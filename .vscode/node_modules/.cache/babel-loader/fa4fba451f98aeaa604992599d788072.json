{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\teres\\\\Desktop\\\\RastroIO\\\\src\\\\pages\\\\Edit\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { FiSave, FiMenu } from 'react-icons/fi';\nimport SideMenu from '../../components/SideMenu';\nimport { usePackages } from '../../hooks/packages';\nimport { useTheme } from '../../hooks/theme';\nimport { Container, Header, Content, MenuToggleButton, Form, Input, SubmitButton } from './styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Edit = () => {\n  _s();\n\n  const {\n    theme\n  } = useTheme();\n  const history = useHistory();\n  const {\n    findById,\n    update\n  } = usePackages();\n  const [nameFocused, setNameFocused] = useState(false);\n  const [codeFocused, setCodeFocused] = useState(false);\n  const [name, setName] = useState('');\n  const [code, setCode] = useState('');\n  const {\n    id\n  } = useParams();\n  const sideMenuRef = useRef(null);\n  const toggleMenu = useCallback(() => {\n    var _sideMenuRef$current;\n\n    (_sideMenuRef$current = sideMenuRef.current) === null || _sideMenuRef$current === void 0 ? void 0 : _sideMenuRef$current.toggleMenu();\n  }, []);\n  useEffect(() => {\n    const packageData = findById(id);\n\n    if (packageData) {\n      setName(packageData.title);\n      setCode(packageData.code);\n    }\n  }, [id, findById]);\n  const submitHandle = useCallback(e => {\n    e.preventDefault();\n    const packageData = findById(id);\n\n    if (packageData) {\n      if (name.length > 0 && code.length > 0) {\n        update({ ...packageData,\n          title: name,\n          code\n        });\n        history.push('/');\n      } else {\n        alert('Preencha todos os campos');\n      }\n    }\n  }, [name, code, history, id, findById, update]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(SideMenu, {\n      ref: sideMenuRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Content, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        children: /*#__PURE__*/_jsxDEV(MenuToggleButton, {\n          onClick: toggleMenu,\n          children: /*#__PURE__*/_jsxDEV(FiMenu, {\n            size: 24,\n            color: theme.colors.text_primary\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: submitHandle,\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          name: \"name\",\n          value: name,\n          isFocused: nameFocused,\n          onFocus: () => setNameFocused(true),\n          onBlur: () => setNameFocused(false),\n          onChange: e => setName(e.target.value),\n          placeholder: \"Nome\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          name: \"code\",\n          value: code,\n          isFocused: codeFocused,\n          onFocus: () => setCodeFocused(true),\n          onBlur: () => setCodeFocused(false),\n          onChange: e => setCode(e.target.value.toUpperCase()),\n          placeholder: \"C\\xF3digo de rastreio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n          children: [/*#__PURE__*/_jsxDEV(FiSave, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), \"Salvar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Edit, \"b0Rrm8SEhrB1n90CMeFTeYBGA9Q=\", false, function () {\n  return [useTheme, useHistory, usePackages, useParams];\n});\n\n_c = Edit;\nexport default Edit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"sources":["C:/Users/teres/Desktop/RastroIO/src/pages/Edit/index.tsx"],"names":["React","useCallback","useEffect","useRef","useState","useHistory","useParams","FiSave","FiMenu","SideMenu","usePackages","useTheme","Container","Header","Content","MenuToggleButton","Form","Input","SubmitButton","Edit","theme","history","findById","update","nameFocused","setNameFocused","codeFocused","setCodeFocused","name","setName","code","setCode","id","sideMenuRef","toggleMenu","current","packageData","title","submitHandle","e","preventDefault","length","push","alert","colors","text_primary","target","value","toUpperCase"],"mappings":"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","sourcesContent":["import React, {\r\n  FormEvent,\r\n  useCallback,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { FiSave, FiMenu } from 'react-icons/fi';\r\n\r\nimport SideMenu from '../../components/SideMenu';\r\nimport { usePackages } from '../../hooks/packages';\r\nimport { useTheme } from '../../hooks/theme';\r\n\r\nimport {\r\n  Container,\r\n  Header,\r\n  Content,\r\n  MenuToggleButton,\r\n  Form,\r\n  Input,\r\n  SubmitButton,\r\n} from './styles';\r\n\r\ninterface RouteParams {\r\n  id: string;\r\n}\r\n\r\ninterface SideMenuRef {\r\n  toggleMenu(): void;\r\n}\r\n\r\nconst Edit: React.FC = () => {\r\n  const { theme } = useTheme();\r\n  const history = useHistory();\r\n\r\n  const { findById, update } = usePackages();\r\n\r\n  const [nameFocused, setNameFocused] = useState(false);\r\n  const [codeFocused, setCodeFocused] = useState(false);\r\n\r\n  const [name, setName] = useState('');\r\n  const [code, setCode] = useState('');\r\n\r\n  const { id } = useParams<RouteParams>();\r\n\r\n  const sideMenuRef = useRef<SideMenuRef>(null);\r\n\r\n  const toggleMenu = useCallback(() => {\r\n    sideMenuRef.current?.toggleMenu();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const packageData = findById(id);\r\n\r\n    if (packageData) {\r\n      setName(packageData.title);\r\n      setCode(packageData.code);\r\n    }\r\n  }, [id, findById]);\r\n\r\n  const submitHandle = useCallback(\r\n    (e: FormEvent) => {\r\n      e.preventDefault();\r\n\r\n      const packageData = findById(id);\r\n\r\n      if (packageData) {\r\n        if (name.length > 0 && code.length > 0) {\r\n          update({ ...packageData, title: name, code });\r\n          history.push('/');\r\n        } else {\r\n          alert('Preencha todos os campos');\r\n        }\r\n      }\r\n    },\r\n    [name, code, history, id, findById, update],\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      <SideMenu ref={sideMenuRef} />\r\n      <Content>\r\n        <Header>\r\n          <MenuToggleButton onClick={toggleMenu}>\r\n            <FiMenu size={24} color={theme.colors.text_primary} />\r\n          </MenuToggleButton>\r\n        </Header>\r\n\r\n        <Form onSubmit={submitHandle}>\r\n          <Input\r\n            name=\"name\"\r\n            value={name}\r\n            isFocused={nameFocused}\r\n            onFocus={() => setNameFocused(true)}\r\n            onBlur={() => setNameFocused(false)}\r\n            onChange={e => setName(e.target.value)}\r\n            placeholder=\"Nome\"\r\n          />\r\n          <Input\r\n            name=\"code\"\r\n            value={code}\r\n            isFocused={codeFocused}\r\n            onFocus={() => setCodeFocused(true)}\r\n            onBlur={() => setCodeFocused(false)}\r\n            onChange={e => setCode(e.target.value.toUpperCase())}\r\n            placeholder=\"CÃ³digo de rastreio\"\r\n          />\r\n          <SubmitButton>\r\n            <FiSave />\r\n            Salvar\r\n          </SubmitButton>\r\n        </Form>\r\n      </Content>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n"]},"metadata":{},"sourceType":"module"}